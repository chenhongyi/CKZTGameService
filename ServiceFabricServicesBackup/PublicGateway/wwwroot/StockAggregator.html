<!DOCTYPE html>
<html>
<head>
    <title>Aggregated View of Stock Trends</title>
    <link rel="stylesheet" type="text/css" href="Content/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="Content/default.css">
</head>

<body ng-app="PublicGateway">
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <span class="navbar-brand">Aggregated View of Stock Items</span>
            </div>
        </div>
    </div>

    <div class="container body-content" ng-controller="StockAggregatorController">
        <div>
            <h2>Product Stock Trends</h2>
            <table>
                <tr>
                    <!-- Call AngularJS functions in app.js -->
                    <td><button ng-click="getAllProducts()">Get All Product Stock Trends</button></td>
                    <td><button ng-click="getHighProbabilityProducts()">Get Trends with Reorder Probability Greater Than</button></td>
                    <td>
                    <table>
                        <tr><td>Probability:</td><td><input type="number" id="numProbability" ng-model="numProbability"/></td></tr>
                    </table>

                </tr>
            </table>
        </div>

        <h3>Output of product stock trend data in aggregator service</h3>
        <div id="divResult">
            <table class="product-stock-trend">
                <thead>
                <tr>
                    <th>Product Id</th>
                    <th>Product Name</th>
                    <th>Stock Total</th>
                    <th>Reorder Flag</th>
                    <th>Out Of Stock Probability</th>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="p in products">
                        <td ng-bind="p.ProductId">
                        <td ng-bind="p.ProductName">
                        <td ng-bind="p.StockLeft">
                        <td ng-bind="p.Reorder">
                        <td ng-bind="p.Probability">
                    </tr>
                </tbody>
            </table>
        </div>

        <hr />
        <footer>
            <p>&copy; Service Fabric Sample</p>
        </footer>
    </div>

    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="Scripts/jquery-2.1.4.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <!--Add script for angular.-->
    <script src="Scripts/angular.min.js"></script>
    <!--Add script for main application.-->
    <script src="Scripts/app.js"></script>
</body>
</html>